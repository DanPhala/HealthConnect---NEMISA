const CanvasGetInstagramPhotos=(s,e,t,a)=>{let r=s.closest(".instagram-widget-alert");r||(r=document.createElement("div"),r.classList.add("alert","alert-warning","instagram-widget-alert","text-center"),s.insertAdjacentElement("beforebegin",r),r.innerHTML='<div class="spinner-grow spinner-grow-sm me-2" role="status"><span class="visually-hidden">Loading...</span></div> '+a),fetch(e).then(e=>e.json()).then(n=>{if(0<n.length){r.remove();for(let a=0;a<t;a++)if(a!==t){let e=n[a],t=e.media_url;"VIDEO"===e.media_type&&(t=e.thumbnail_url),s.innerHTML+='<a class="grid-item" href="'+e.permalink+'" target="_blank"><img src="'+t+'" alt="Image"></a>'}}SEMICOLON.Core.imagesLoaded(s),s.addEventListener("CanvasImagesLoaded",function(){s.classList.remove("customjs"),SEMICOLON.Modules.masonryThumbs(),SEMICOLON.Modules.lightbox()})}).catch(e=>{console.log(e),r.classList.remove("alert-warning"),r.classList.add("alert-danger"),r.innerHTML="Could not fetch Photos from Instagram API. Please try again later."})};SEMICOLON.Core.getVars.fn.instagram=e=>{const t=SEMICOLON.Core;if(t.initFunction({class:"has-plugin-instagram",event:"pluginInstagramReady"}),(e=t.getSelector(e,!1,!1)).length<1)return!0;e.forEach(e=>{let t=e.getAttribute("data-count")||12,a=e.getAttribute("data-loader")||"include/instagram/instagram.php",n=e.getAttribute("data-fetch-message")||"Fetching Photos from Instagram...";12<Number(t)&&(t=12),CanvasGetInstagramPhotos(e,a,t,n)})};