export default function(e){const t=SEMICOLON.Core;if((e=t.getSelector(e,!1)).length<1)return!0;let s=document.querySelector(".top-search-form");if(!s)return!0;s.closest(".header-row").classList.add("top-search-parent");let o=document.querySelector(".top-search-parent"),a;e[0].onclick=e=>{clearTimeout(a),t.getVars.elBody.classList.toggle("top-search-open"),document.getElementById("top-cart")?.classList.remove("top-cart-open"),(t.getVars.elBody.classList.contains("device-md")||t.getVars.elBody.classList.contains("device-sm")||t.getVars.elBody.classList.contains("device-xs"))&&(t.getVars.elPrimaryMenus.forEach(e=>e.querySelectorAll(".menu-container").forEach(e=>t.slideUp(e,200,()=>t.getVars.elBody.classList.remove("primary-menu-open")))),[...t.getVars.elPrimaryMenus].filter(e=>e.matches(".mobile-menu-off-canvas")).forEach(e=>e.classList.remove("d-block"))),t.getVars.elBody.classList.contains("top-search-open")?o.classList.add("position-relative"):a=setTimeout(()=>{o.classList.remove("position-relative")},500),t.getVars.elBody.classList.remove("primary-menu-open"),t.getVars.elPageMenu&&t.getVars.elPageMenu.classList.remove("page-menu-open"),t.getVars.elBody.classList.contains("top-search-open")&&s.querySelector("input").focus(),e.stopPropagation(),e.preventDefault()},document.addEventListener("click",e=>{e.target.closest(".top-search-form")||(t.getVars.elBody.classList.remove("top-search-open"),a=setTimeout(()=>{o.classList.remove("position-relative")},500))},!1)}