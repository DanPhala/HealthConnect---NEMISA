export default function(e){const n=SEMICOLON.Core;n.loadJS({file:"plugins.countdown.js",id:"canvas-countdown-js",jsFolder:!0}),n.loadJS({file:"components/moment.js",id:"canvas-moment-js",jsFolder:!0}),n.isFuncTrue(()=>"undefined"!=typeof moment&&jQuery().countdown).then(t=>!!t&&(n.initFunction({class:"has-plugin-countdown",event:"pluginCountdownReady"}),(e=n.getSelector(e)).length<1||void e.each(function(){let t=jQuery(this),e=t.attr("data-format")||"dHMS",n=t.attr("data-since"),a=t.attr("data-year"),o=t.attr("data-month"),r=t.attr("data-day"),d=t.attr("data-hour"),u=t.attr("data-minute"),s=t.attr("data-second"),i=t.attr("data-redirect"),c,l;a&&(c=a),o&&o<13?c=c+"-"+(o<10?"0"+o:o):a&&(c+="-01"),r&&r<32?c=c+"-"+(r<10?"0"+r:r):a&&(c+="-01"),l=""!=c?new Date(moment(c)):new Date,d&&d<25&&l.setHours(l.getHours()+Number(d)),u&&u<60&&l.setMinutes(l.getMinutes()+Number(u)),s&&s<60&&l.setSeconds(l.getSeconds()+Number(s)),i=i||!1,"true"==n?t.countdown({since:l,format:e,expiryUrl:i}):t.countdown({until:l,format:e,expiryUrl:i})})))}