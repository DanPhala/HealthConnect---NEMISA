export default function(t){const r=SEMICOLON.Core;r.loadJS({file:"plugins.form.js",id:"canvas-form-js",jsFolder:!0}),r.isFuncTrue(()=>jQuery().validate&&jQuery().ajaxSubmit).then(e=>!!e&&(r.initFunction({class:"has-plugin-form",event:"pluginFormReady"}),(t=r.getSelector(t)).length<1||void t.each(function(){let e=jQuery(this),i=jQuery("body"),t=e.find("form"),n=t.attr("id"),r=e.attr("data-alert-type"),o=e.attr("data-loader"),l=e.find(".form-result"),u=e.attr("data-redirect"),c,d;r=r||"notify",n&&i.addClass(n+"-ready"),e.find("form").validate({errorPlacement:function(e,t){0<t.parents(".form-group").length?e.appendTo(t.parents(".form-group")):e.insertAfter(t)},focusCleanup:!0,submitHandler:function(a){if(e.hasClass("custom-submit"))return jQuery(a).submit(),!0;l.hide(),"button"==o?(c=jQuery(a).find("button"),defButtonText=c.html(),c.html('<i class="bi-arrow-repeat icon-spin m-0"></i>')):jQuery(a).find(".form-process").fadeIn(),n&&i.removeClass(n+"-ready "+n+"-complete "+n+"-success "+n+"-error").addClass(n+"-processing"),jQuery(a).ajaxSubmit({target:l,dataType:"json",success:function(s){if("button"==o?c.html(defButtonText):jQuery(a).find(".form-process").fadeOut(),"error"!=s.alert&&u)return window.location.replace(u),!0;if("inline"==r?(d="error"==s.alert?"alert-danger":"alert-success",l.removeClass("alert-danger alert-success").addClass("alert "+d).html(s.message).slideDown(400)):"notify"==r&&(l.attr("data-notify-type",s.alert).attr("data-notify-msg",s.message).html(""),SEMICOLON.Modules.notifications(l)),"error"!=s.alert){jQuery(a).resetForm(),jQuery(a).find(".btn-group > .btn").removeClass("active"),"undefined"!=typeof tinyMCE&&tinyMCE.activeEditor&&!tinyMCE.activeEditor.isHidden()&&tinymce.activeEditor.setContent("");let e=jQuery(a).find(".input-range-slider");0<e.length&&e.each(function(){let e=jQuery(this).data("ionRangeSlider");e.reset()});let t=jQuery(a).find(".input-rating");0<t.length&&t.each(function(){jQuery(this).rating("reset")});let r=jQuery(a).find(".selectpicker");0<r.length&&r.each(function(){jQuery(this).selectpicker("val",""),jQuery(this).selectpicker("deselectAll")}),jQuery(a).find(".input-select2,select[data-selectsplitter-firstselect-selector]").change(),jQuery(a).trigger("formSubmitSuccess",s),i.removeClass(n+"-error").addClass(n+"-success")}else jQuery(a).trigger("formSubmitError",s),i.removeClass(n+"-success").addClass(n+"-error");n&&i.removeClass(n+"-processing").addClass(n+"-complete"),0<jQuery(a).find(".g-recaptcha").children("div").length&&grecaptcha.reset()}})}})})))}