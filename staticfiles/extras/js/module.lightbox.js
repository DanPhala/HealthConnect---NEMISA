export default function(a){const s=SEMICOLON.Core;s.loadJS({file:"plugins.lightbox.js",id:"canvas-lightbox-js",jsFolder:!0}),s.isFuncTrue(()=>jQuery().magnificPopup).then(e=>{if(!e)return!1;if(s.initFunction({class:"has-plugin-lightbox",event:"pluginLightboxReady"}),(a=s.getSelector(a)).length<1)return!0;let d='<i class="bi-x-lg"></i>';a.each(function(){let a=jQuery(this),e=a.attr("data-lightbox"),t=a.attr("data-close-button")||"outside",n=a.attr("data-disable-under")||600,i=a.attr("data-content-position")||"auto",o=a.attr("data-zoom"),l=jQuery("body");if(t="inside"==t,i="fixed"==i,"image"==e){let e={type:"image",tLoading:"",closeOnContentClick:!0,closeBtnInside:t,fixedContentPos:!0,mainClass:"mfp-no-margins mfp-fade",image:{verticalFit:!0},closeIcon:d};"true"==o&&(e.zoom={enabled:!0,duration:300,easing:"ease-in-out",opener:function(e){return e.is("img")?e:e.find("img")}}),a.magnificPopup(e)}"gallery"==e&&(a.find('a[data-lightbox="gallery-item"]').parent(".clone").hasClass("clone")&&a.find('a[data-lightbox="gallery-item"]').parent(".clone").find('a[data-lightbox="gallery-item"]').attr("data-lightbox",""),a.find('a[data-lightbox="gallery-item"]').parents(".cloned").hasClass("cloned")&&a.find('a[data-lightbox="gallery-item"]').parents(".cloned").find('a[data-lightbox="gallery-item"]').attr("data-lightbox",""),a.magnificPopup({delegate:a.hasClass("grid-container-filterable")?'a.grid-lightbox-filtered[data-lightbox="gallery-item"]':'a[data-lightbox="gallery-item"]',type:"image",tLoading:"",closeOnContentClick:!0,closeBtnInside:t,fixedContentPos:!0,mainClass:"mfp-no-margins mfp-fade",image:{verticalFit:!0},gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},closeIcon:d})),"iframe"==e&&a.magnificPopup({disableOn:Number(n),type:"iframe",tLoading:"",removalDelay:160,preloader:!1,closeBtnInside:t,fixedContentPos:i,closeIcon:d}),"inline"==e&&a.magnificPopup({type:"inline",tLoading:"",mainClass:"mfp-no-margins mfp-fade",closeBtnInside:t,fixedContentPos:!0,overflowY:"scroll",closeIcon:d}),"ajax"==e&&a.magnificPopup({type:"ajax",tLoading:"",closeBtnInside:t,autoFocusLast:!1,closeIcon:d,callbacks:{ajaxContentAdded:function(e){s.runContainerModules(document.querySelector(".mfp-content"))},open:function(){l.addClass("ohidden")},close:function(){l.removeClass("ohidden")}}}),"ajax-gallery"==e&&a.magnificPopup({delegate:'a[data-lightbox="ajax-gallery-item"]',type:"ajax",tLoading:"",closeBtnInside:t,closeIcon:d,autoFocusLast:!1,gallery:{enabled:!0,preload:0,navigateByImgClick:!1},callbacks:{ajaxContentAdded:function(e){s.runContainerModules(document.querySelector(".mfp-content"))},open:function(){l.addClass("ohidden")},close:function(){l.removeClass("ohidden")}}}),a.on("mfpOpen",function(){var e=jQuery.magnificPopup.instance.currItem.el,a=jQuery(e).attr("data-lightbox-class"),e=jQuery(e).attr("data-lightbox-bg-class");""!=a&&jQuery(jQuery.magnificPopup.instance.container).addClass(a),""!=e&&jQuery(jQuery.magnificPopup.instance.bgOverlay).addClass(e)})})})}